{% extends 'base.html' %}
{% block title %}Agregar Pedido a Proveedor{% endblock %}
{% block content %}
<div class="container mt-4">
  <h2>Agregar Pedido</h2>
  <form method="POST">{% csrf_token %}
    <div class="mb-3"><label>Proveedor</label>
      <select name="proveedor" class="form-select">
        <option value="">-- Seleccionar proveedor --</option>
        {% for pr in proveedores %}<option value="{{ pr.id }}">{{ pr.nombre }}</option>{% endfor %}
      </select>
    </div>
    <div class="mb-3"><label>Producto</label>
      <select name="producto" class="form-select">
        <option value="">-- Seleccionar producto --</option>
        {% for prod in productos %}<option value="{{ prod.id }}">{{ prod.nombre }}</option>{% endfor %}
      </select>
    </div>
    <div class="mb-3"><label>Cantidad</label><input type="number" class="form-control" name="cantidad" value="1"></div>
    <div class="mb-3"><label>Fecha de entrega (opcional)</label><input type="date" class="form-control" name="fecha_entrega"></div>
    <div class="mb-3"><label>Estado</label>
      <select name="estado" class="form-select">
        <option value="PENDIENTE">Pendiente</option>
        <option value="EN_CAMINO">En camino</option>
        <option value="ENTREGADO">Entregado</option>
        <option value="CANCELADO">Cancelado</option>
      </select>
    </div>
    <div class="mb-3"><label>Empleado (quien registra)</label>
      <select name="empleado" class="form-select">
        <option value="">-- Ninguno --</option>
        {% for emp in empleados %}<option value="{{ emp.id }}">{{ emp }}</option>{% endfor %}
      </select>
    </div>
    <button class="btn btn-primary">Crear Pedido</button>
    <a class="btn btn-secondary" href="{% url 'ver_pedido_proveedor' %}">Cancelar</a>
  </form>
</div>
{% endblock %}
